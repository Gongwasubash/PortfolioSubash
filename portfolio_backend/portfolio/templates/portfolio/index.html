{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subash Gongwa - Portfolio</title>
    <link rel="icon" type="image/png" href="{% static 'logo.png' %}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'style.css' %}">
    <link rel="stylesheet" href="{% static 'theme.css' %}">
    <link rel="stylesheet" href="{% static 'voice-styles.css' %}">

</head>
<body class="dark-mode">
    <!-- Loader -->
    <div id="loader" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #fff; display: flex; justify-content: center; align-items: center; z-index: 9999;">
        <div style="width: 50px; height: 50px; border: 5px solid #f3f3f3; border-top: 5px solid #3498db; border-radius: 50%; animation: spin 1s linear infinite;"></div>
    </div>
    <style>
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        @keyframes float1 {
            0%, 100% { transform: translateY(0px) translateX(0px); }
            33% { transform: translateY(-30px) translateX(20px); }
            66% { transform: translateY(20px) translateX(-15px); }
        }
        @keyframes float2 {
            0%, 100% { transform: translateY(0px) translateX(0px); }
            50% { transform: translateY(-40px) translateX(-25px); }
        }
        @keyframes float3 {
            0%, 100% { transform: translateY(0px) translateX(0px); }
            25% { transform: translateY(15px) translateX(30px); }
            75% { transform: translateY(-25px) translateX(-20px); }
        }
        body.dark-mode #loader {
            background: #1a1a2e !important;
        }
    </style>
    <header>
        <nav>
            <a href="/"><img src="{% static 'logo.png' %}" alt="Logo" class="logo"></a>
            <div class="hamburger" onclick="toggleMenu()">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <ul class="nav-menu">
                <li><a href="#hero">Home</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="services.html">Services</a></li>
                <li><a href="#projects">Projects</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
            <div class="theme-toggle"></div>

        </nav>
    </header>
    
    <main>
        <section id="hero" class="hero-section">
            <div class="hero-container">
                <div class="hero-left">
                    <div class="hero-greeting">Hello,</div>
                    <div class="hero-name">I'm Subash Gongwa</div>
                    <div class="hero-role">Graphics Designer</div>
                    <div class="hero-location">From Nepal</div>
                    <button class="hero-hire-btn" onclick="window.open('{% static 'subash gongwa (1) (1) (1).pdf' %}', '_blank')">Hire Me</button>
                </div>
                <div class="hero-right">
                    <div class="hero-profile-image">
                        <img src="{% static 'pictures/44.png' %}" alt="Subash Gongwa Profile">
                    </div>
                </div>
            </div>
        </section>


        <section id="about" style="position: relative; padding: 4rem 2rem; min-height: 400px;">
            <h2>About Me</h2>
            <div style="display: flex; align-items: center; gap: 3rem; max-width: 1200px; margin: 0 auto;">
                <img src="{% static 'pictures/555.png' %}" alt="Subash Gongwa" style="width: 400px; height: 500px; object-fit: cover; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.5);">
                <div style="flex: 1; color: white; line-height: 1.8; font-size: 1.1rem;">
                    <p>I'm Subash Gongwa, a passionate graphic designer who loves transforming ideas into clean, creative, and meaningful visuals. I specialize in branding, print design, and digital graphics, creating everything from logos, banners, and lanyards to ID cards and social media designs. My focus is on producing professional, functional, and visually appealing designs that effectively communicate each client's message. With a strong eye for detail and a commitment to quality, I aim to deliver designs that not only look great but also leave a lasting impression.</p>
                </div>
            </div>
        </section>

        <section id="projects">
            <h2>My Projects</h2>
            <div class="project-grid">
                <div class="project" onclick="window.location.href='videos.html'">
                    <img src="{% static 'pictures/vid.png' %}" alt="Video Projects">
                    <div class="project-content">
                        <h3>Video & Motion Graphics</h3>
                        <p>Creative video content, motion graphics, and animated designs for various brands and campaigns.</p>
                    </div>
                </div>
                <div class="project" onclick="window.location.href='social-media.html'">
                    <img src="{% static 'pictures/design.png' %}" alt="Social Media">
                    <div class="project-content">
                        <h3>Social Media Design</h3>
                        <p>Engaging social media posts, promotional content, and brand campaigns for digital platforms.</p>
                    </div>
                </div>
                <div class="project" onclick="window.location.href='printing.html'">
                    <img src="{% static 'pictures/101278.png' %}" alt="Print Design">
                    <div class="project-content">
                        <h3>Print & Packaging</h3>
                        <p>Professional print designs, packaging solutions, and brand identity materials.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="contact" style="padding: 4rem 2rem; min-height: 100vh;">
            <div style="max-width: 1400px; margin: 0 auto; display: flex; gap: 3rem; align-items: center;">
                <!-- Left Side - Image -->
                <div style="flex: 0 0 500px;">
                    <img src="{% static 'pictures/566.png' %}" alt="Contact" style="width: 100%; height: 700px; object-fit: cover; border-radius: 20px; box-shadow: 0 20px 60px rgba(0,0,0,0.3);">
                </div>
                
                <!-- Right Side - Content -->
                <div style="flex: 1;">
                    <h2 style="margin-bottom: 3rem; font-size: 2.5rem; color: white;">Get In Touch</h2>
                
                <!-- Contact Form - Full Width -->
                <div class="contact-form-container" style="background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.2); padding: 2.5rem; border-radius: 16px; box-shadow: 0 8px 32px rgba(0,0,0,0.1); margin-bottom: 4rem;">
                <style>
                    [data-theme="light"] input::placeholder { color: #000000 !important; opacity: 1 !important; }
                    [data-theme="light"] textarea::placeholder { color: #000000 !important; opacity: 1 !important; }
                    [data-theme="dark"] input::placeholder { color: #000000 !important; opacity: 1 !important; }
                    [data-theme="dark"] textarea::placeholder { color: #000000 !important; opacity: 1 !important; }
                </style>
                    <h3 class="form-title" style="margin: 0 0 2rem 0; font-size: 1.5rem; color: #2c3e50; text-align: center;">Send Message</h3>
                    <form id="contactForm" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; max-width: 800px; margin: 0 auto;">
                        <input type="text" name="name" placeholder="Enter your full name" required class="form-input" style="padding: 1rem; border: 2px solid #000000; border-radius: 12px; font-size: 1rem; transition: all 0.3s ease; background: #ffffff !important; color: #000000 !important;" onfocus="this.style.setProperty('--placeholder-color', '#000000')">
                        <input type="email" name="email" placeholder="Enter your email address" required class="form-input" style="padding: 1rem; border: 2px solid #000000; border-radius: 12px; font-size: 1rem; transition: all 0.3s ease; background: #ffffff !important; color: #000000 !important;" onfocus="this.style.setProperty('--placeholder-color', '#000000')">
                        <input type="tel" name="phone" placeholder="Enter your phone number" required class="form-input" style="padding: 1rem; border: 2px solid #000000; border-radius: 12px; font-size: 1rem; transition: all 0.3s ease; background: #ffffff !important; color: #000000 !important; grid-column: 1 / -1;" onfocus="this.style.setProperty('--placeholder-color', '#000000')">
                        <textarea name="message" placeholder="Enter your message here" rows="4" required class="form-input" style="padding: 1rem; border: 2px solid #000000; border-radius: 12px; font-size: 1rem; transition: all 0.3s ease; background: #ffffff !important; color: #000000 !important; resize: vertical; min-height: 120px; grid-column: 1 / -1;" onfocus="this.style.setProperty('--placeholder-color', '#000000')"></textarea>
                        <button type="submit" style="padding: 1rem 2rem; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 12px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: transform 0.3s ease, box-shadow 0.3s ease; grid-column: 1 / -1; justify-self: center; max-width: 200px;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 8px 25px rgba(102, 126, 234, 0.4)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">Send Message</button>
                    </form>
                </div>

                
                <!-- Dark Mode & Mobile Responsive Styles -->
                <style>
                    /* Dark Mode Styles */
                    body.dark-mode .contact-form-container {
                        background: rgba(26, 26, 46, 0.9) !important;
                        border: 1px solid rgba(255, 255, 255, 0.1) !important;
                    }
                    
                    [data-theme="light"] .contact-form-container {
                        background: #ffffff !important;
                        border: 1px solid #e0e0e0 !important;
                        box-shadow: 0 10px 25px rgba(0,0,0,0.1) !important;
                    }
                    
                    body.dark-mode .form-title {
                        color: white !important;
                    }
                    
                    body.dark-mode .form-input {
                        background: rgba(255, 255, 255, 0.1) !important;
                        border-color: rgba(255, 255, 255, 0.2) !important;
                        color: white !important;
                    }
                    
                    body.dark-mode .form-input:focus {
                        background: rgba(255, 255, 255, 0.15) !important;
                        border-color: #3498db !important;
                    }
                    
                    body.dark-mode .form-input::placeholder {
                        color: rgba(255, 255, 255, 0.7) !important;
                    }
                    
                    body.dark-mode .contact-glass-item {
                        background: rgba(255, 255, 255, 0.05) !important;
                        border: 1px solid rgba(255, 255, 255, 0.1) !important;
                    }
                    
                    body.dark-mode .contact-title {
                        color: white !important;
                    }
                    
                    /* Contact Section Responsive */
                    @media (max-width: 1024px) {
                        #contact > div {
                            flex-direction: column !important;
                        }
                        
                        #contact > div > div:first-child {
                            flex: 1 !important;
                            max-width: 100% !important;
                        }
                        
                        #contact > div > div:first-child img {
                            height: 400px !important;
                        }
                    }
                    
                    /* Mobile Responsive */
                    @media (max-width: 768px) {
                        #contact > div > div:first-child img {
                            height: 300px !important;
                        }
                        
                        .contact-items-grid {
                            grid-template-columns: repeat(2, 1fr) !important;
                            gap: 1.5rem !important;
                        }
                        
                        .contact-glass-item {
                            padding: 1.5rem 1rem !important;
                        }
                        
                        @media (max-width: 480px) {
                            .contact-items-grid {
                                grid-template-columns: 1fr !important;
                                gap: 1rem !important;
                            }
                            
                            .contact-glass-item {
                                padding: 1rem 0.5rem !important;
                            }
                        }
                        
                        #contact form {
                            grid-template-columns: 1fr !important;
                        }
                        #contact > div:last-child {
                            grid-template-columns: repeat(2, 1fr) !important;
                        }
                    }
                    @media (max-width: 480px) {
                        #contact > div:last-child {
                            grid-template-columns: 1fr !important;
                        }
                    }
                    
                    /* Hero Section Responsive */
                    @media (max-width: 768px) {
                        .hero-section {
                            padding: 2rem 1rem !important;
                            min-height: 60vh !important;
                        }
                        
                        .hero-title {
                            font-size: 3rem !important;
                        }
                        
                        .hero-subtitle {
                            font-size: 1rem !important;
                        }
                        
                        .hero-signature {
                            font-size: 1.2rem !important;
                        }
                    }
                    
                    @media (max-width: 480px) {
                        .hero-section {
                            padding: 0.5rem 0.25rem !important;
                            min-height: 25vh !important;
                            margin: 0 !important;
                        }
                        
                        .hero-title {
                            font-size: 2.5rem !important;
                        }
                        
                        .hero-subtitle {
                            font-size: 0.9rem !important;
                        }
                        
                        .hero-signature {
                            font-size: 1rem !important;
                        }
                        
                        .hero-content {
                            text-align: center !important;
                        }
                    }
                </style>
                </div>
            </div>
        </section>
    </main>

    <footer style="background: #000000; color: white; padding: 3rem 2rem 2rem; margin-top: 4rem;">
        <div style="max-width: 1200px; margin: 0 auto;">
            <!-- Contact Links Section -->
            <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 2rem; margin-bottom: 2rem; text-align: center;">
                <div class="footer-contact-item">
                    <a href="mailto:subashgongwanepal@gmail.com" style="color: white; text-decoration: none; display: flex; flex-direction: column; align-items: center; gap: 0.5rem; transition: transform 0.3s ease;" onmouseover="this.style.transform='translateY(-5px)'" onmouseout="this.style.transform='translateY(0)'">
                        <span style="font-weight: 600; font-size: 1.2rem;">Email</span>
                        <span style="font-size: 0.9rem; opacity: 0.8;">subashgongwanepal@gmail.com</span>
                    </a>
                </div>
                
                <div class="footer-contact-item">
                    <a href="https://wa.me/9779840564096" target="_blank" style="color: white; text-decoration: none; display: flex; flex-direction: column; align-items: center; gap: 0.5rem; transition: transform 0.3s ease;" onmouseover="this.style.transform='translateY(-5px)'" onmouseout="this.style.transform='translateY(0)'">
                        <span style="font-weight: 600; font-size: 1.2rem;">WhatsApp</span>
                        <span style="font-size: 0.9rem; opacity: 0.8;">+977 984-0564096</span>
                    </a>
                </div>
                
                <div class="footer-contact-item">
                    <a href="https://np.linkedin.com/in/subash-gongwa-165153351" target="_blank" style="color: white; text-decoration: none; display: flex; flex-direction: column; align-items: center; gap: 0.5rem; transition: transform 0.3s ease;" onmouseover="this.style.transform='translateY(-5px)'" onmouseout="this.style.transform='translateY(0)'">
                        <span style="font-weight: 600; font-size: 1.2rem;">LinkedIn</span>
                        <span style="font-size: 0.9rem; opacity: 0.8;">Connect with me</span>
                    </a>
                </div>
                
                <div class="footer-contact-item">
                    <div style="color: white; display: flex; flex-direction: column; align-items: center; gap: 0.5rem;">
                        <span style="font-weight: 600; font-size: 1.2rem;">Resume</span>
                        <div style="display: flex; gap: 1rem; font-size: 0.9rem;">
                            <a href="{% static 'subash gongwa (1) (1) (1).pdf' %}" target="_blank" style="color: #ffd700; text-decoration: none; transition: color 0.3s ease;" onmouseover="this.style.color='#ffed4e'" onmouseout="this.style.color='#ffd700'">Preview</a>
                            <a href="{% static 'subash gongwa (1) (1) (1).pdf' %}" download="Subash_Gongwa_CV.pdf" style="color: #4ade80; text-decoration: none; transition: color 0.3s ease;" onmouseover="this.style.color='#6ee7b7'" onmouseout="this.style.color='#4ade80'">Download</a>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Divider -->
            <div style="height: 1px; background: rgba(255, 255, 255, 0.2); margin: 2rem 0;"></div>
            
            <!-- Copyright Section -->
            <div style="text-align: center;">
                <p style="margin: 0; font-size: 0.9rem; opacity: 0.8;">&copy; 2025 Subash Gongwa. All rights reserved.</p>
                <p style="margin: 0.5rem 0 0; font-size: 0.8rem; opacity: 0.6;">Graphics Designer | Video Editor | Motion Designer</p>
            </div>
        </div>
        
        <!-- Footer Responsive Styles -->
        <style>
            @media (max-width: 768px) {
                footer > div > div:first-child {
                    grid-template-columns: repeat(2, 1fr) !important;
                    gap: 1.5rem !important;
                }
                
                .footer-contact-item span:last-child {
                    font-size: 0.8rem !important;
                }
            }
            
            @media (max-width: 480px) {
                footer {
                    padding: 2rem 1rem 1.5rem !important;
                }
                
                footer > div > div:first-child {
                    grid-template-columns: 1fr !important;
                    gap: 1rem !important;
                }
                
                .footer-contact-item a {
                    flex-direction: row !important;
                    justify-content: flex-start !important;
                    text-align: left !important;
                }
                
                .footer-contact-item a > div:first-child {
                    margin-right: 1rem !important;
                }
            }
        </style>
    </footer>

    <script src="{% static 'theme.js' %}"></script>
    <script src="{% static 'script.js' %}"></script>
    <script src="{% static 'card-stack.js' %}"></script>
    <script src="{% static 'contact-form.js' %}"></script>
    <script src="{% static 'advanced-voice-agent.js' %}"></script>
    <script>
        // Fix form inputs and images for both themes
        function fixFormInputs() {
            const theme = document.documentElement.getAttribute('data-theme');
            const inputs = document.querySelectorAll('#contactForm input, #contactForm textarea');
            
            if (theme === 'light') {
                inputs.forEach(input => {
                    input.style.setProperty('background', '#ffffff', 'important');
                    input.style.setProperty('color', '#000000', 'important');
                    input.style.setProperty('border', '2px solid #000000', 'important');
                });
            }
            
            // Change images based on theme
            const heroImg = document.querySelector('.hero-profile-image img');
            const aboutImg = document.querySelector('#about img');
            const contactImg = document.querySelector('#contact img');
            const logo = document.querySelector('.logo');
            
            if (theme === 'light') {
                if (heroImg) heroImg.src = "{% static 'pictures/44light.png' %}";
                if (aboutImg) aboutImg.src = "{% static 'pictures/555light.png' %}";
                if (contactImg) contactImg.src = "{% static 'pictures/566light.png' %}";
                if (logo) logo.src = "{% static 'pictures/LOGOLIGHT.png' %}";
            } else {
                if (heroImg) heroImg.src = "{% static 'pictures/44.png' %}";
                if (aboutImg) aboutImg.src = "{% static 'pictures/555.png' %}";
                if (contactImg) contactImg.src = "{% static 'pictures/566.png' %}";
                if (logo) logo.src = "{% static 'pictures/logo.png' %}";
            }
            
            // Force black placeholder text in all themes
            const style = document.createElement('style');
            style.innerHTML = `
                #contactForm input::placeholder,
                #contactForm textarea::placeholder {
                    color: #000000 !important;
                    opacity: 1 !important;
                }
            `;
            if (!document.querySelector('#placeholder-fix')) {
                style.id = 'placeholder-fix';
                document.head.appendChild(style);
            }
        }
        
        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            fixFormInputs();
        });
        
        // Override theme toggle
        const originalToggle = window.toggleTheme || function() {};
        window.toggleTheme = function() {
            originalToggle();
            setTimeout(fixFormInputs, 100);
        };
    </script>
    
    <!-- Loader Script -->
    <script>
        window.addEventListener('load', function() {
            document.getElementById('loader').style.display = 'none';
        });
    </script>
    
    <!-- AI Chat Widget -->
    <style>
        #chat-widget { position: fixed; bottom: 20px; right: 20px; z-index: 1000; }
        #chat-button { width: 68px; height: 68px; background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%); border: 2px solid #64748b; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; box-shadow: 0 10px 40px rgba(15, 23, 42, 0.6); transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); position: relative; overflow: hidden; }
        #chat-button::before { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: radial-gradient(circle at 30% 30%, rgba(59, 130, 246, 0.3), transparent 70%); border-radius: 50%; opacity: 0; transition: opacity 0.3s; }
        #chat-button:hover { transform: scale(1.1); box-shadow: 0 15px 50px rgba(59, 130, 246, 0.4); border-color: #3b82f6; }
        #chat-button:hover::before { opacity: 1; }
        .ai-pulse { animation: aiPulse 2s infinite; }
        @keyframes aiPulse { 0%, 100% { box-shadow: 0 10px 40px rgba(15, 23, 42, 0.6); } 50% { box-shadow: 0 10px 40px rgba(59, 130, 246, 0.8); } }
        #chat-box { display: none; position: absolute; bottom: 85px; right: 0; width: 420px; height: 650px; background: linear-gradient(145deg, #0f172a 0%, #1e293b 100%); border: 1px solid #334155; border-radius: 20px; box-shadow: 0 25px 80px rgba(0,0,0,0.4); overflow: hidden; flex-direction: column; animation: chatSlideUp 0.5s cubic-bezier(0.4, 0, 0.2, 1); }
        @keyframes chatSlideUp { from { opacity: 0; transform: translateY(40px) scale(0.9); } to { opacity: 1; transform: translateY(0) scale(1); } }
        #chat-header { background: linear-gradient(135deg, #1e293b 0%, #334155 100%); color: #f1f5f9; padding: 1.5rem; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #475569; position: relative; }
        #chat-header::after { content: ''; position: absolute; bottom: 0; left: 0; right: 0; height: 1px; background: linear-gradient(90deg, transparent, #3b82f6, transparent); opacity: 0.5; }
        #chat-header h3 { margin: 0; font-size: 1.3rem; font-weight: 700; display: flex; align-items: center; gap: 0.8rem; }
        .ai-status { width: 8px; height: 8px; background: #10b981; border-radius: 50%; animation: statusBlink 2s infinite; }
        @keyframes statusBlink { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }
        #chat-close { cursor: pointer; font-size: 1.8rem; line-height: 1; transition: all 0.3s; padding: 0.3rem; border-radius: 8px; color: #94a3b8; }
        #chat-close:hover { transform: rotate(90deg); background: rgba(239, 68, 68, 0.1); color: #ef4444; }
        #chat-messages { flex: 1; padding: 1.5rem; overflow-y: auto; background: linear-gradient(to bottom, #0f172a, #1e293b); position: relative; }
        #chat-messages::-webkit-scrollbar { width: 6px; }
        #chat-messages::-webkit-scrollbar-track { background: rgba(71, 85, 105, 0.2); border-radius: 10px; }
        #chat-messages::-webkit-scrollbar-thumb { background: linear-gradient(135deg, #3b82f6, #1d4ed8); border-radius: 10px; }
        .chat-msg { margin-bottom: 1.5rem; animation: msgFadeIn 0.5s ease; }
        @keyframes msgFadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .chat-msg-user { text-align: right; }
        .chat-msg-user span { background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; padding: 1rem 1.4rem; border-radius: 18px 18px 4px 18px; display: inline-block; max-width: 80%; word-wrap: break-word; box-shadow: 0 4px 20px rgba(59, 130, 246, 0.3); font-weight: 500; position: relative; }
        .chat-msg-ai { display: flex; align-items: flex-start; gap: 0.8rem; }
        .ai-avatar { width: 32px; height: 32px; background: linear-gradient(135deg, #10b981, #059669); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1rem; flex-shrink: 0; }
        .chat-msg-ai span { background: linear-gradient(135deg, #374151 0%, #4b5563 100%); color: #f9fafb; padding: 1rem 1.4rem; border-radius: 18px 18px 18px 4px; display: inline-block; max-width: 85%; word-wrap: break-word; box-shadow: 0 4px 20px rgba(0,0,0,0.2); border: 1px solid #6b7280; font-weight: 500; }
        .typing-indicator { display: flex; align-items: center; gap: 0.5rem; padding: 1rem 1.4rem; background: linear-gradient(135deg, #374151 0%, #4b5563 100%); border-radius: 18px; color: #9ca3af; }
        .typing-dots { display: flex; gap: 0.3rem; }
        .typing-dot { width: 6px; height: 6px; background: #6b7280; border-radius: 50%; animation: typingBounce 1.4s infinite; }
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }
        @keyframes typingBounce { 0%, 60%, 100% { transform: translateY(0); } 30% { transform: translateY(-10px); } }
        #chat-input-container { padding: 1.5rem; background: linear-gradient(135deg, #1e293b 0%, #334155 100%); border-top: 1px solid #475569; display: flex; gap: 0.8rem; align-items: center; }
        #chat-input { flex: 1; padding: 1rem 1.3rem; border: 2px solid #475569; border-radius: 12px; font-size: 1rem; transition: all 0.3s; background: #0f172a; color: #f1f5f9; }
        #chat-input:focus { outline: none; border-color: #3b82f6; box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1); }
        #chat-input::placeholder { color: #64748b; }
        #chat-send { background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; border: none; padding: 1rem 1.5rem; border-radius: 12px; cursor: pointer; font-weight: 600; transition: all 0.3s; box-shadow: 0 4px 16px rgba(59, 130, 246, 0.3); }
        #chat-send:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(59, 130, 246, 0.4); }
        #chat-send:active { transform: translateY(0); }
        @media (max-width: 768px) {
            #chat-widget { bottom: 16px; right: 16px; }
            #chat-button { width: 62px; height: 62px; }
            #chat-box { width: calc(100vw - 32px); max-width: 420px; height: 600px; }
        }
        @media (max-width: 480px) {
            #chat-widget { bottom: 12px; right: 12px; left: 12px; }
            #chat-button { width: 58px; height: 58px; }
            #chat-box { width: 100%; height: 80vh; max-height: 600px; bottom: 78px; right: 0; left: 0; border-radius: 20px 20px 0 0; }
            #chat-header { padding: 1.2rem; }
            #chat-header h3 { font-size: 1.2rem; }
            #chat-messages { padding: 1.2rem; }
            .chat-msg-user span, .chat-msg-ai span { max-width: 90%; padding: 0.9rem 1.2rem; font-size: 0.95rem; }
            #chat-input-container { padding: 1.2rem; }
            #chat-input { padding: 0.9rem 1.1rem; font-size: 0.95rem; }
            #chat-send { padding: 0.9rem 1.3rem; }
        }
    </style>
    <div id="chat-widget">
        <div id="chat-button" onclick="toggleChat()" class="ai-pulse">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="#3b82f6">
                <path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1H5C3.89 1 3 1.89 3 3V19C3 20.1 3.9 21 5 21H11V19H5V3H13V9H21ZM14 15.5L16.5 18L14 20.5V19H10V18H14V15.5ZM20.5 14C22.4 14 24 15.6 24 17.5S22.4 21 20.5 21 17 19.4 17 17.5 18.6 14 20.5 14Z"/>
            </svg>
        </div>
        <div id="chat-box">
            <div id="chat-header">
                <h3>🤖 AI Assistant <div class="ai-status"></div></h3>
                <div style="display: flex; align-items: center; gap: 0.5rem;">
                    <span id="voice-status" style="font-size: 0.8rem; color: #94a3b8;">Idle</span>
                    <span id="chat-close" onclick="toggleChat()">&times;</span>
                </div>
            </div>
            <div id="chat-messages"></div>
            <div id="chat-input-container">
                <div class="voice-controls">
                    <button id="voice-btn" class="voice-btn" onclick="toggleVoiceRecording()" title="Voice Input">🎤</button>
                    <button id="speaker-btn" class="speaker-btn" onclick="toggleSpeaker()" title="Toggle Speech">🔊</button>
                </div>
                <input type="text" id="chat-input" placeholder="Message AI Assistant or speak..." onkeypress="if(event.key==='Enter') sendMessage()">
                <button id="chat-send" onclick="sendMessage()">→</button>
            </div>
        </div>
    </div>
    <script>
        function toggleChat() {
            const chatBox = document.getElementById('chat-box');
            chatBox.style.display = chatBox.style.display === 'none' ? 'flex' : 'none';
            if (chatBox.style.display === 'flex' && document.getElementById('chat-messages').innerHTML === '') {
                document.getElementById('chat-messages').innerHTML = '<div class="chat-msg chat-msg-ai"><div class="ai-avatar">🤖</div><span>👋 Hello! I\'m Subash\'s AI assistant. I can help you learn about his graphic design services, portfolio, or answer any questions. How can I assist you today?</span></div>';
            }
        }
        async function sendMessage() {
            const input = document.getElementById('chat-input');
            const message = input.value.trim();
            if (!message) return;
            const messagesDiv = document.getElementById('chat-messages');
            messagesDiv.innerHTML += `<div class="chat-msg chat-msg-user"><span>${message}</span></div>`;
            input.value = '';
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
            const typingMsg = document.createElement('div');
            typingMsg.className = 'chat-msg chat-msg-ai';
            typingMsg.innerHTML = '<div class="ai-avatar">🤖</div><div class="typing-indicator"><div class="typing-dots"><div class="typing-dot"></div><div class="typing-dot"></div><div class="typing-dot"></div></div>AI is thinking...</div>';
            messagesDiv.appendChild(typingMsg);
            try {
                const response = await fetch('https://n8n-ouap.onrender.com/webhook/ade473f7-3fcb-4ce3-81f7-d39d691bbf2e', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({message: message})
                });
                if (!response.ok) throw new Error(`HTTP ${response.status}`);
                const data = await response.json();
                console.log('Webhook response:', data);
                messagesDiv.removeChild(typingMsg);
                let aiResponse;
                if (Array.isArray(data) && data.length > 0) {
                    aiResponse = data[0].output || data[0].response || data[0].message || data[0].text;
                } else {
                    aiResponse = data.output || data.response || data.message || data.text;
                }
                if (!aiResponse) aiResponse = 'No response received';
                messagesDiv.innerHTML += `<div class="chat-msg chat-msg-ai"><div class="ai-avatar">🤖</div><span>${aiResponse}<div class="voice-indicator">🔊</div></span></div>`;
                
                // Auto-speak AI response if voice agent is available
                if (window.speakAIResponse) {
                    setTimeout(() => window.speakAIResponse(aiResponse), 500);
                }
            } catch (error) {
                console.error('Chat error:', error);
                messagesDiv.removeChild(typingMsg);
                messagesDiv.innerHTML += `<div class="chat-msg chat-msg-ai"><div class="ai-avatar">⚠️</div><span>❌ Connection error. Please try again.</span></div>`;
            }
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }
    </script>
</body>
</html>